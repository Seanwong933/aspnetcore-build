# docker build -t siegrainwong/aspnetcore-build:2.2-bionic -f Dockerfile-bionic

FROM mcr.microsoft.com/dotnet/core/sdk:2.2-bionic

ENV DEBIAN_FRONTEND noninteractive

RUN apt-get update
RUN apt-get -qq update

# Install https://github.com/grpc/grpc dependencies
RUN apt-get install libc6-i386

RUN apt-get install -y nodejs npm
# TODO could uninstall some build dependencies

# fucking debian installs `node` as `nodejs`
RUN update-alternatives --install /usr/bin/node node /usr/bin/nodejs 10.16.0
RUN npm --version
RUN node --version

WORKDIR /